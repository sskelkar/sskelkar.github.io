<!DOCTYPE html>
<html lang="en" itemscope itemtype="http://schema.org/WebPage">
  <head>
    

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0">

  <title>Memory profiling – simple examples - Sojjwal Kelkar</title>
  <meta name="description" content="Recently I have been trying to learn different memory profiling tools to monitor Java applications. I have looked into the command line tools that are shipped as part of JDK like jstat, jps, jvisualvm etc. Licensed tools like Yourkit provide wholesome information about a running JVM including memory usage, CPU time, thread count etc. Running a java application with -verbose:gc option prints memory usage of each generation after every garbage collection event.">
  <meta name="author" content="Sojjwal Kelkar"/><script type="application/ld+json">
{
    "@context": "http://schema.org",
    "@type": "WebSite",
    "name": "Sojjwal Kelkar",
    
    "url": "https:\/\/sskelkar.github.io\/"
}
</script><script type="application/ld+json">
{
  "@context": "http://schema.org",
  "@type": "Organization",
  "name": "",
  "url": "https:\/\/sskelkar.github.io\/"
  
  
  
  
}
</script>
<script type="application/ld+json">
{
  "@context": "http://schema.org",
  "@type": "BreadcrumbList",
  "itemListElement": [{
        "@type": "ListItem",
        "position": 1,
        "item": {
          "@id": "https:\/\/sskelkar.github.io\/",
          "name": "home"
        }
    },{
        "@type": "ListItem",
        "position": 3,
        "item": {
          "@id": "https:\/\/sskelkar.github.io\/post\/memory-profiling-simple-examples\/",
          "name": "Memory profiling – simple examples"
        }
    }]
}
</script><script type="application/ld+json">
{
  "@context": "http://schema.org",
  "@type": "Article",
  "author": {
    "name" : "Sojjwal Kelkar"
  },
  "headline": "Memory profiling – simple examples",
  "description" : "Recently I have been trying to learn different memory profiling tools to monitor Java applications. I have looked into the command line tools that are shipped as part of JDK like jstat, jps, jvisualvm etc. Licensed tools like Yourkit provide wholesome information about a running JVM including memory usage, CPU time, thread count etc. Running a java application with -verbose:gc option prints memory usage of each generation after every garbage collection event.",
  "inLanguage" : "en",
  "wordCount":  902 ,
  "datePublished" : "2016-02-04T00:00:00",
  "dateModified" : "2016-02-04T00:00:00",
  "image" : "https:\/\/sskelkar.github.io\/",
  "keywords" : [ "Java" ],
  "mainEntityOfPage" : "https:\/\/sskelkar.github.io\/post\/memory-profiling-simple-examples\/",
  "publisher" : {
    "@type": "Organization",
    "name" : "https:\/\/sskelkar.github.io\/",
    "logo" : {
        "@type" : "ImageObject",
        "url" : "https:\/\/sskelkar.github.io\/",
        "height" :  60 ,
        "width" :  60
    }
  }
}
</script>

<meta property="og:title" content="Memory profiling – simple examples" />
<meta property="og:description" content="Recently I have been trying to learn different memory profiling tools to monitor Java applications. I have looked into the command line tools that are shipped as part of JDK like jstat, jps, jvisualvm etc. Licensed tools like Yourkit provide wholesome information about a running JVM including memory usage, CPU time, thread count etc. Running a java application with -verbose:gc option prints memory usage of each generation after every garbage collection event.">
<meta property="og:url" content="https://sskelkar.github.io/post/memory-profiling-simple-examples/" />
<meta property="og:type" content="website" />
<meta property="og:site_name" content="Sojjwal Kelkar" />

  <meta name="twitter:title" content="Memory profiling – simple examples" />
  <meta name="twitter:description" content="Recently I have been trying to learn different memory profiling tools to monitor Java applications. I have looked into the command line tools that are shipped as part of JDK like jstat, jps, jvisualvm …">
  <meta name="twitter:card" content="summary" />
  <meta name="generator" content="Hugo 0.79.0" />
  <link rel="alternate" href="https://sskelkar.github.io/index.xml" type="application/rss+xml" title="Sojjwal Kelkar"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.10.0/katex.min.css" integrity="sha384-9eLZqc9ds8eNjO3TmqPeYcDj8n+Qfa4nuSiGYa6DjLNcv9BtN69ZIulL9+8CqC9Y" crossorigin="anonymous">
  <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.5.0/css/all.css" integrity="sha384-B4dIYHKNBt8Bc12p+WXckhzcICo0wtJAoU8YZTY5qE0Id1GSseTk6S+L3BlXeVIU" crossorigin="anonymous">
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous"><link rel="stylesheet" href="https://sskelkar.github.io/css/main.css" /><link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Lora:400,700,400italic,700italic" />
  <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:300italic,400italic,600italic,700italic,800italic,400,300,600,700,800" />
  <link rel="stylesheet" href="https://sskelkar.github.io/css/highlight.min.css" /><link rel="stylesheet" href="https://sskelkar.github.io/css/codeblock.css" /><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/photoswipe/4.1.2/photoswipe.min.css" integrity="sha384-h/L2W9KefUClHWaty3SLE5F/qvc4djlyR4qY3NUV5HGQBBW7stbcfff1+I/vmsHh" crossorigin="anonymous">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/photoswipe/4.1.2/default-skin/default-skin.min.css" integrity="sha384-iD0dNku6PYSIQLyfTOpB06F2KCZJAKLOThS5HRe8b3ibhdEQ6eKsFf/EeFxdOt5R" crossorigin="anonymous">



  </head>
  <body>
    <nav class="navbar navbar-default navbar-fixed-top navbar-custom">
  <div class="container-fluid">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#main-navbar">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <a class="navbar-brand" href="https://sskelkar.github.io/">Sojjwal Kelkar</a>
    </div>

    <div class="collapse navbar-collapse" id="main-navbar">
      <ul class="nav navbar-nav navbar-right">
        
          
            <li>
              <a title="Tech Blog" href="/">Tech Blog</a>
            </li>
          
        
          
            <li>
              <a title="Cartoons" href="/cartoons">Cartoons</a>
            </li>
          
        
          
            <li>
              <a title="About" href="/about">About</a>
            </li>
          
        
          
            <li>
              <a title="Tags" href="/tags">Tags</a>
            </li>
          
        

        

        
      </ul>
    </div>

    

  </div>
</nav>




    


<div class="pswp" tabindex="-1" role="dialog" aria-hidden="true">

<div class="pswp__bg"></div>

<div class="pswp__scroll-wrap">
    
    <div class="pswp__container">
      <div class="pswp__item"></div>
      <div class="pswp__item"></div>
      <div class="pswp__item"></div>
    </div>
    
    <div class="pswp__ui pswp__ui--hidden">
    <div class="pswp__top-bar">
      
      <div class="pswp__counter"></div>
      <button class="pswp__button pswp__button--close" title="Close (Esc)"></button>
      <button class="pswp__button pswp__button--share" title="Share"></button>
      <button class="pswp__button pswp__button--fs" title="Toggle fullscreen"></button>
      <button class="pswp__button pswp__button--zoom" title="Zoom in/out"></button>
      
      
      <div class="pswp__preloader">
        <div class="pswp__preloader__icn">
          <div class="pswp__preloader__cut">
            <div class="pswp__preloader__donut"></div>
          </div>
        </div>
      </div>
    </div>
    <div class="pswp__share-modal pswp__share-modal--hidden pswp__single-tap">
      <div class="pswp__share-tooltip"></div>
    </div>
    <button class="pswp__button pswp__button--arrow--left" title="Previous (arrow left)">
    </button>
    <button class="pswp__button pswp__button--arrow--right" title="Next (arrow right)">
    </button>
    <div class="pswp__caption">
      <div class="pswp__caption__center"></div>
    </div>
    </div>
    </div>
</div>













<header class="header-section ">
  
  <div class="intro-header no-img">
    
    <div class="container">
      <div class="row">
        <div class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1">
          <div class="post-heading">
            <h1>Memory profiling – simple examples</h1>
            <span class="post-meta">
  
  
  <i class="fas fa-calendar"></i>&nbsp;Posted on Feb 4, 2016
  
  
    &nbsp;|&nbsp;<i class="fas fa-clock"></i>&nbsp;5&nbsp;minutes
  
  
  
  
</span>


          </div>
        </div>
      </div>
    </div>
    
  </div>
</header>


    
<div class="container" role="main">
  <div class="row">
    <div class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1">
      
      <article role="main" class="blog-post">
      
        <p>Recently I have been trying to learn different memory profiling tools to monitor Java applications. I have looked into the command line tools that are shipped as part of JDK like <code>jstat</code>, <code>jps</code>, <code>jvisualvm</code> etc. Licensed tools like <code>Yourkit</code> provide wholesome information about a running JVM including memory usage, CPU time, thread count etc. Running a java application with <code>-verbose:gc</code> option prints memory usage of each generation after every garbage collection event.</p>
<p>Profiler tools like <code>VisualVM</code> modify the bytecode of the application they are profiling, which may result in some peculiarities. For example, if we profile the following code in <code>VisualVM</code>, it shows heap usage increasing linearly over time even though no objects are being created. We can verify this with the following example:
<div class="highlight"><pre class="chroma"><code class="language-Java" data-lang="Java"><span class="kd">public</span> <span class="kd">class</span> <span class="nc">EmptyWhileLoop</span> <span class="o">{</span>
  <span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">main</span><span class="o">(</span><span class="n">String</span><span class="o">[]</span> <span class="n">arg</span><span class="o">)</span> <span class="o">{</span>
    <span class="k">while</span><span class="o">(</span><span class="kc">true</span><span class="o">)</span> <span class="o">{}</span>
  <span class="o">}</span>
<span class="o">}</span></code></pre></div></p>
<p><img src="https://github.com/sskelkar/blog-posts/raw/master/images/memory-profiling-1.png" alt="VisualVM output"></p>
<p>Alternatively, <code>jstat</code> can provide us periodical information on a wide range of parameters like garbage collection statistics, heap capacities, class compilation etc.</p>
<p>Typically <code>jstat</code> can be used in following way:</p>
<div class="highlight"><pre class="chroma"><code class="language-sh" data-lang="sh">jstat &lt;option&gt; &lt;pid&gt; &lt;interval&gt; &lt;count&gt;
</code></pre></div><p>So if we run the following on command prompt,</p>
<div class="highlight"><pre class="chroma"><code class="language-sh" data-lang="sh">jstat -gcutil <span class="m">410</span> <span class="m">500</span> <span class="m">10</span>
</code></pre></div><p>It will print garbage collection statistics of the JVM running with <code>pid</code> 410 every 0.5 second, 10 times. If we don’t give the <code>count</code> option, <code>jstat</code> will run till the process exits. <code>pid</code> of an application can be found using <code>jps</code> command.</p>
<p>For above code, <code>jstat -util</code> will give the output as following:</p>
<p><img src="https://github.com/sskelkar/blog-posts/raw/master/images/memory-profiling-1.png" alt="jstat output"></p>
<p>The meaning of each column can be found in the official <a href="https://docs.oracle.com/javase/8/docs/technotes/tools/unix/jstat.html">Oracle documentation</a>.</p>
<p>Now let&rsquo;s consider a simple example of creating an ArrayList with and without providing <code>initialCapacity</code>. If we do not provide <code>initialCapacity</code> to the ArrayList constructor, by default it creates an internal array of initial size 10. As we add elements to this ArrayList and exceed this size, a new internal array with size as 1.5 times the old size is created and values from old array are copied to the new one. If we add large number of values to an ArrayList but do not initialize it, the internal array will have to be resized several times over, and the discarded array objects go up for garbage collection. So an application that does not initialize ArrayList is going to consume much more memory than the one that does. We can verify this by running the JVM with <code>-verbose:gc</code> option.</p>
<p>Suppose we have a class like this:
<div class="highlight"><pre class="chroma"><code class="language-Java" data-lang="Java"><span class="kn">import</span> <span class="nn">java.util.*</span><span class="o">;</span>

<span class="kd">public</span> <span class="kd">class</span> <span class="nc">ArrayListProfiler</span> <span class="o">{</span>
  <span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">main</span><span class="o">(</span><span class="n">String</span><span class="o">[]</span> <span class="n">a</span><span class="o">)</span> <span class="o">{</span>
    <span class="n">List</span><span class="o">&lt;</span><span class="n">String</span><span class="o">&gt;</span> <span class="n">array</span> <span class="o">=</span> <span class="k">new</span> <span class="n">ArrayList</span><span class="o">&lt;</span><span class="n">String</span><span class="o">&gt;();</span>
    
    <span class="k">for</span><span class="o">(</span><span class="kt">int</span> <span class="n">i</span><span class="o">=</span><span class="n">0</span><span class="o">;</span> <span class="n">i</span><span class="o">&lt;</span><span class="n">10000</span><span class="o">;</span> <span class="n">i</span><span class="o">++)</span> <span class="o">{</span>
      <span class="n">array</span><span class="o">.</span><span class="na">add</span><span class="o">(</span><span class="n">String</span><span class="o">.</span><span class="na">valueOf</span><span class="o">(</span><span class="n">i</span><span class="o">));</span>
    <span class="o">}</span>
  <span class="o">}</span>
<span class="o">}</span></code></pre></div></p>
<p>I will compile and run it as following:</p>
<div class="highlight"><pre class="chroma"><code class="language-cmd" data-lang="cmd">javac ArrayListProfiler.java <span class="p">&amp;&amp;</span> java -Xmx1m -verbose:gc -XX:+PrintGCDetails -XX:+PrintGCTimeStamps -Xloggc:D:\gc.log ArrayListProfiler
</code></pre></div><p>First let&rsquo;s understand what each of these options means. <code>-Xmx1m</code> sets the maximum heap size for this application as 1MB. Limiting the heap size to some small value is important to simulate low memory condition. Otherwise, JVM won’t need to kick in the garbage collector. <code>-verbose:gc</code> enables logging of garbage collection information. <code>-XX:+PrintGCDetails</code> and <code>-XX:+PrintGCTimeStamps</code> give detailed GC information and generation wise heap usage. <code>-Xloggc:D:\gc.log</code> logs the <code>-verbose:gc</code> output to a file.</p>
<p>The output generated for above code is as following:</p>
<div class="highlight"><pre class="chroma"><code class="language-sh" data-lang="sh">Java HotSpot<span class="o">(</span>TM<span class="o">)</span> 64-Bit Server VM <span class="o">(</span>25.40-b25<span class="o">)</span> <span class="k">for</span> windows-amd64 JRE <span class="o">(</span>1.8.0_40-b26<span class="o">)</span>, built on Mar  <span class="m">7</span> <span class="m">2015</span> 13:51:59 by <span class="s2">&#34;java_re&#34;</span> with MS VC++ 10.0 <span class="o">(</span>VS2010<span class="o">)</span>
Memory: 4k page, physical 8365480k<span class="o">(</span>1878384k free<span class="o">)</span>, swap 16729064k<span class="o">(</span>4152084k free<span class="o">)</span>
CommandLine flags: -XX:InitialHeapSize<span class="o">=</span><span class="m">1048576</span> -XX:MaxHeapSize<span class="o">=</span><span class="m">1048576</span> -XX:+PrintGC -XX:+PrintGCDetails -XX:+PrintGCTimeStamps -XX:+UseCompressedClassPointers -XX:+UseCompressedOops -XX:-UseLargePagesIndividualAllocation -XX:+UseParallelGC 
0.077: <span class="o">[</span>GC <span class="o">(</span>Allocation Failure<span class="o">)</span> <span class="o">[</span>PSYoungGen: 512K-&gt;496K<span class="o">(</span>1024K<span class="o">)]</span> 512K-&gt;520K<span class="o">(</span>1536K<span class="o">)</span>, 0.0007685 secs<span class="o">]</span> <span class="o">[</span>Times: <span class="nv">user</span><span class="o">=</span>0.00 <span class="nv">sys</span><span class="o">=</span>0.00, <span class="nv">real</span><span class="o">=</span>0.00 secs<span class="o">]</span> 
0.080: <span class="o">[</span>GC <span class="o">(</span>Allocation Failure<span class="o">)</span> <span class="o">[</span>PSYoungGen: 1008K-&gt;486K<span class="o">(</span>1024K<span class="o">)]</span> 1032K-&gt;806K<span class="o">(</span>1536K<span class="o">)</span>, 0.0009741 secs<span class="o">]</span> <span class="o">[</span>Times: <span class="nv">user</span><span class="o">=</span>0.00 <span class="nv">sys</span><span class="o">=</span>0.00, <span class="nv">real</span><span class="o">=</span>0.00 secs<span class="o">]</span> 
0.081: <span class="o">[</span>Full GC <span class="o">(</span>Ergonomics<span class="o">)</span> <span class="o">[</span>PSYoungGen: 486K-&gt;486K<span class="o">(</span>1024K<span class="o">)]</span> <span class="o">[</span>ParOldGen: 320K-&gt;288K<span class="o">(</span>512K<span class="o">)]</span> 806K-&gt;774K<span class="o">(</span>1536K<span class="o">)</span>, <span class="o">[</span>Metaspace: 2439K-&gt;2439K<span class="o">(</span>1056768K<span class="o">)]</span>, 0.0064944 secs<span class="o">]</span> <span class="o">[</span>Times: <span class="nv">user</span><span class="o">=</span>0.00 <span class="nv">sys</span><span class="o">=</span>0.00, <span class="nv">real</span><span class="o">=</span>0.01 secs<span class="o">]</span> 
Heap
 PSYoungGen      total 1024K, used 517K <span class="o">[</span>0x00000000ffe80000, 0x0000000100000000, 0x0000000100000000<span class="o">)</span>
  eden space 512K, 6% used <span class="o">[</span>0x00000000ffe80000,0x00000000ffe87bc0,0x00000000fff00000<span class="o">)</span>
  from space 512K, 95% used <span class="o">[</span>0x00000000fff80000,0x00000000ffff9a28,0x0000000100000000<span class="o">)</span>
  to   space 512K, 0% used <span class="o">[</span>0x00000000fff00000,0x00000000fff00000,0x00000000fff80000<span class="o">)</span>
 ParOldGen       total 512K, used 288K <span class="o">[</span>0x00000000ffe00000, 0x00000000ffe80000, 0x00000000ffe80000<span class="o">)</span>
  object space 512K, 56% used <span class="o">[</span>0x00000000ffe00000,0x00000000ffe481c8,0x00000000ffe80000<span class="o">)</span>
 Metaspace       used 2445K, capacity 4486K, committed 4864K, reserved 1056768K
  class space    used 266K, capacity 386K, committed 512K, reserved 1048576K
</code></pre></div><p>A detailed explanation of how to read this <code>-verbose:gc</code> output can be found <a href="https://stackoverflow.com/questions/16794783/how-to-read-a-verbosegc-output/16797404#16797404">here</a>. But for our purpose, we can see that there were three garbage collection events and old generation space usage is more than 50%.</p>
<p>Now let&rsquo;s initialize the ArrayList object and run the same test.
<div class="highlight"><pre class="chroma"><code class="language-Java" data-lang="Java"><span class="kn">import</span> <span class="nn">java.util.*</span><span class="o">;</span>

<span class="kd">public</span> <span class="kd">class</span> <span class="nc">ArrayListProfiler</span> <span class="o">{</span>
  <span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">main</span><span class="o">(</span><span class="n">String</span><span class="o">[]</span> <span class="n">a</span><span class="o">)</span> <span class="o">{</span>
    <span class="n">List</span><span class="o">&lt;</span><span class="n">String</span><span class="o">&gt;</span> <span class="n">array</span> <span class="o">=</span> <span class="k">new</span> <span class="n">ArrayList</span><span class="o">&lt;</span><span class="n">String</span><span class="o">&gt;(</span><span class="n">10000</span><span class="o">);</span>

    <span class="k">for</span><span class="o">(</span><span class="kt">int</span> <span class="n">i</span><span class="o">=</span><span class="n">0</span><span class="o">;</span> <span class="n">i</span><span class="o">&lt;</span><span class="n">10000</span><span class="o">;</span> <span class="n">i</span><span class="o">++)</span> <span class="o">{</span>
      <span class="n">array</span><span class="o">.</span><span class="na">add</span><span class="o">(</span><span class="n">String</span><span class="o">.</span><span class="na">valueOf</span><span class="o">(</span><span class="n">i</span><span class="o">));</span>
    <span class="o">}</span>
  <span class="o">}</span>
<span class="o">}</span></code></pre></div></p>
<p>The output in this case comes out to be like this:</p>
<div class="highlight"><pre class="chroma"><code class="language-sh" data-lang="sh">Java HotSpot<span class="o">(</span>TM<span class="o">)</span> 64-Bit Server VM <span class="o">(</span>25.40-b25<span class="o">)</span> <span class="k">for</span> windows-amd64 JRE <span class="o">(</span>1.8.0_40-b26<span class="o">)</span>, built on Mar  <span class="m">7</span> <span class="m">2015</span> 13:51:59 by <span class="s2">&#34;java_re&#34;</span> with MS VC++ 10.0 <span class="o">(</span>VS2010<span class="o">)</span>
Memory: 4k page, physical 8365480k<span class="o">(</span>1929064k free<span class="o">)</span>, swap 16729064k<span class="o">(</span>4231388k free<span class="o">)</span>
CommandLine flags: -XX:InitialHeapSize<span class="o">=</span><span class="m">1048576</span> -XX:MaxHeapSize<span class="o">=</span><span class="m">1048576</span> -XX:+PrintGC -XX:+PrintGCDetails -XX:+PrintGCTimeStamps -XX:+UseCompressedClassPointers -XX:+UseCompressedOops -XX:-UseLargePagesIndividualAllocation -XX:+UseParallelGC 
0.071: <span class="o">[</span>GC <span class="o">(</span>Allocation Failure<span class="o">)</span> <span class="o">[</span>PSYoungGen: 512K-&gt;487K<span class="o">(</span>1024K<span class="o">)]</span> 512K-&gt;503K<span class="o">(</span>1536K<span class="o">)</span>, 0.0008072 secs<span class="o">]</span> <span class="o">[</span>Times: <span class="nv">user</span><span class="o">=</span>0.00 <span class="nv">sys</span><span class="o">=</span>0.00, <span class="nv">real</span><span class="o">=</span>0.00 secs<span class="o">]</span> 
Heap
 PSYoungGen      total 1024K, used 907K <span class="o">[</span>0x00000000ffe80000, 0x0000000100000000, 0x0000000100000000<span class="o">)</span>
  eden space 512K, 82% used <span class="o">[</span>0x00000000ffe80000,0x00000000ffee9250,0x00000000fff00000<span class="o">)</span>
  from space 512K, 95% used <span class="o">[</span>0x00000000fff00000,0x00000000fff79c50,0x00000000fff80000<span class="o">)</span>
  to   space 512K, 0% used <span class="o">[</span>0x00000000fff80000,0x00000000fff80000,0x0000000100000000<span class="o">)</span>
 ParOldGen       total 512K, used 16K <span class="o">[</span>0x00000000ffe00000, 0x00000000ffe80000, 0x00000000ffe80000<span class="o">)</span>
  object space 512K, 3% used <span class="o">[</span>0x00000000ffe00000,0x00000000ffe04000,0x00000000ffe80000<span class="o">)</span>
 Metaspace       used 2445K, capacity 4486K, committed 4864K, reserved 1056768K
  class space    used 266K, capacity 386K, committed 512K, reserved 1048576K
</code></pre></div><p>Garbage collection was needed only once and old generation space usage is only 3% because unlike the previous case, the internal arrays didn’t have to be recreated.</p>


        
          <div class="blog-tags">
            
              <a href="https://sskelkar.github.io//tags/java/">Java</a>&nbsp;
            
          </div>
        

        

        
          
            
          

          
                  <h4 class="see-also">See also</h4>
                  <ul>
                
                
                    <li><a href="/post/db-integration-tests-for-spring-app/">Database integration tests for a Spring application</a></li>
                
                    <li><a href="/post/using-thread-dumps-to-analyze-deadlocks/">Using thread dumps to analyse deadlocks</a></li>
                
                    <li><a href="/post/rxjava-observables/">Running time intensive operations in parallel with RxJava Observables</a></li>
                
                    <li><a href="/post/logging-with-spring-aop/">Logging with Spring AOP</a></li>
                
                    <li><a href="/post/jpa-entity-relationships/">JPA Entity Relationships</a></li>
                
              </ul>

          
        
      </article>

      
        <ul class="pager blog-pager">
          
            <li class="previous">
              <a href="https://sskelkar.github.io/post/jpa-entity-relationships/" data-toggle="tooltip" data-placement="top" title="JPA Entity Relationships">&larr; Previous Post</a>
            </li>
          
          
            <li class="next">
              <a href="https://sskelkar.github.io/post/logging-with-spring-aop/" data-toggle="tooltip" data-placement="top" title="Logging with Spring AOP">Next Post &rarr;</a>
            </li>
          
        </ul>
      


      
        
        
      

    </div>
  </div>
</div>

      
<footer>
  <div class="container">
    <div class="row">
      <div class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1">
        <ul class="list-inline text-center footer-links">
          
              <li>
                <a href="mailto:sojjwalkelkar@gmail.com" title="Email me">
                  <span class="fa-stack fa-lg">
                    <i class="fas fa-circle fa-stack-2x"></i>
                    <i class="fas fa-envelope fa-stack-1x fa-inverse"></i>
                  </span>
                </a>
              </li>
              <li>
                <a href="https://github.com/sskelkar" title="GitHub">
                  <span class="fa-stack fa-lg">
                    <i class="fas fa-circle fa-stack-2x"></i>
                    <i class="fab fa-github fa-stack-1x fa-inverse"></i>
                  </span>
                </a>
              </li>
              <li>
                <a href="https://linkedin.com/in/sskelkar" title="LinkedIn">
                  <span class="fa-stack fa-lg">
                    <i class="fas fa-circle fa-stack-2x"></i>
                    <i class="fab fa-linkedin fa-stack-1x fa-inverse"></i>
                  </span>
                </a>
              </li>
          
          <li>
            <a href="" title="RSS">
              <span class="fa-stack fa-lg">
                <i class="fas fa-circle fa-stack-2x"></i>
                <i class="fas fa-rss fa-stack-1x fa-inverse"></i>
              </span>
            </a>
          </li>
          
        </ul>
        <p class="credits copyright text-muted">
          
            
              Sojjwal Kelkar
            
          

          &nbsp;&bull;&nbsp;&copy;
          
            2020
          





        </p>
        
        <p class="credits theme-by text-muted">
          &bull;&nbsp;Powered by Hugo&nbsp;&bull;&nbsp;
          
        </p>
      </div>
    </div>
  </div>
</footer><script src="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.10.0/katex.min.js" integrity="sha384-K3vbOmF2BtaVai+Qk37uypf7VrgBubhQreNQe9aGsz9lB63dIFiQVlJbr92dw2Lx" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.10.0/contrib/auto-render.min.js" integrity="sha384-kmZOZB5ObwgQnS/DuDg6TScgOiWWBiVt0plIRkZCmE6rDZGrEOQeHM5PcHi+nyqe" crossorigin="anonymous"></script>
<script src="https://code.jquery.com/jquery-1.12.4.min.js" integrity="sha256-ZosEbRLbNQzLpnKIkEdrPv7lOy9C27hHQ+Xp8a4MxAQ=" crossorigin="anonymous"></script>
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa" crossorigin="anonymous"></script>

<script src="https://sskelkar.github.io/js/main.js"></script>
<script src="https://sskelkar.github.io/js/highlight.min.js"></script>
<script> hljs.initHighlightingOnLoad(); </script>
<script> $(document).ready(function() {$("pre.chroma").css("padding","0");}); </script><script> renderMathInElement(document.body); </script><script src="https://cdnjs.cloudflare.com/ajax/libs/photoswipe/4.1.2/photoswipe.min.js" integrity="sha384-QELNnmcmU8IR9ZAykt67vGr9/rZJdHbiWi64V88fCPaOohUlHCqUD/unNN0BXSqy" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/photoswipe/4.1.2/photoswipe-ui-default.min.js" integrity="sha384-m67o7SkQ1ALzKZIFh4CiTA8tmadaujiTa9Vu+nqPSwDOqHrDmxLezTdFln8077+q" crossorigin="anonymous"></script><script src="https://sskelkar.github.io/js/load-photoswipe.js"></script>









    
  </body>
</html>

